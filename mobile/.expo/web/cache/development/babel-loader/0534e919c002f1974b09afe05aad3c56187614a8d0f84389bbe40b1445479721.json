{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport MapperRegistry from \"./MapperRegistry\";\nimport MutableValue from \"./MutableValue\";\nimport Mapper from \"./Mapper\";\nvar JSReanimated = function () {\n  function JSReanimated() {\n    _classCallCheck(this, JSReanimated);\n    this.native = false;\n    this._valueSetter = undefined;\n    this._renderRequested = false;\n    this._mapperRegistry = new MapperRegistry(this);\n    this._frames = [];\n    this.timeProvider = {};\n    if (process.env.JEST_WORKER_ID) {\n      this.timeProvider.now = function () {\n        return Date.now();\n      };\n    } else {\n      this.timeProvider.now = function () {\n        return window.performance.now();\n      };\n    }\n  }\n  _createClass(JSReanimated, [{\n    key: \"pushFrame\",\n    value: function pushFrame(frame) {\n      this._frames.push(frame);\n      this.maybeRequestRender();\n    }\n  }, {\n    key: \"getTimestamp\",\n    value: function getTimestamp() {\n      return this.timeProvider.now();\n    }\n  }, {\n    key: \"maybeRequestRender\",\n    value: function maybeRequestRender() {\n      var _this = this;\n      if (!this._renderRequested) {\n        this._renderRequested = true;\n        requestAnimationFrame(function (_timestampMs) {\n          _this._renderRequested = false;\n          _this._onRender(_this.getTimestamp());\n        });\n      }\n    }\n  }, {\n    key: \"_onRender\",\n    value: function _onRender(timestampMs) {\n      this._mapperRegistry.execute();\n      var frames = _toConsumableArray(this._frames);\n      this._frames = [];\n      for (var i = 0, len = frames.length; i < len; ++i) {\n        frames[i](timestampMs);\n      }\n      if (this._mapperRegistry.needRunOnRender) {\n        this._mapperRegistry.execute();\n      }\n    }\n  }, {\n    key: \"installCoreFunctions\",\n    value: function installCoreFunctions(valueSetter) {\n      this._valueSetter = valueSetter;\n    }\n  }, {\n    key: \"makeShareable\",\n    value: function makeShareable(value) {\n      return value;\n    }\n  }, {\n    key: \"makeMutable\",\n    value: function makeMutable(value) {\n      return new MutableValue(value, this._valueSetter);\n    }\n  }, {\n    key: \"makeRemote\",\n    value: function makeRemote(object) {\n      return object;\n    }\n  }, {\n    key: \"startMapper\",\n    value: function startMapper(mapper) {\n      var inputs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n      var outputs = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n      var instance = new Mapper(this, mapper, inputs, outputs);\n      var mapperId = this._mapperRegistry.startMapper(instance);\n      this.maybeRequestRender();\n      return mapperId;\n    }\n  }, {\n    key: \"stopMapper\",\n    value: function stopMapper(mapperId) {\n      this._mapperRegistry.stopMapper(mapperId);\n    }\n  }, {\n    key: \"registerEventHandler\",\n    value: function registerEventHandler(_eventHash, _eventHandler) {}\n  }, {\n    key: \"unregisterEventHandler\",\n    value: function unregisterEventHandler(_registrationId) {}\n  }]);\n  return JSReanimated;\n}();\nexport { JSReanimated as default };","map":{"version":3,"names":["MapperRegistry","MutableValue","Mapper","JSReanimated","_classCallCheck","native","_valueSetter","undefined","_renderRequested","_mapperRegistry","_frames","timeProvider","process","env","JEST_WORKER_ID","now","Date","window","performance","_createClass","key","value","pushFrame","frame","push","maybeRequestRender","getTimestamp","_this","requestAnimationFrame","_timestampMs","_onRender","timestampMs","execute","frames","_toConsumableArray","i","len","length","needRunOnRender","installCoreFunctions","valueSetter","makeShareable","makeMutable","makeRemote","object","startMapper","mapper","inputs","arguments","outputs","instance","mapperId","stopMapper","registerEventHandler","_eventHash","_eventHandler","unregisterEventHandler","_registrationId","default"],"sources":["/home/khaibq/blockchain/mobile/node_modules/react-native-reanimated/lib/reanimated2/js-reanimated/JSReanimated.js"],"sourcesContent":["// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-nocheck\nimport MapperRegistry from './MapperRegistry';\nimport MutableValue from './MutableValue';\nimport Mapper from './Mapper';\nexport default class JSReanimated {\n    constructor() {\n        this.native = false;\n        this._valueSetter = undefined;\n        this._renderRequested = false;\n        this._mapperRegistry = new MapperRegistry(this);\n        this._frames = [];\n        this.timeProvider = {};\n        if (process.env.JEST_WORKER_ID) {\n            this.timeProvider.now = () => Date.now();\n        }\n        else {\n            this.timeProvider.now = () => window.performance.now();\n        }\n    }\n    pushFrame(frame) {\n        this._frames.push(frame);\n        this.maybeRequestRender();\n    }\n    getTimestamp() {\n        return this.timeProvider.now();\n    }\n    maybeRequestRender() {\n        if (!this._renderRequested) {\n            this._renderRequested = true;\n            requestAnimationFrame((_timestampMs) => {\n                this._renderRequested = false;\n                this._onRender(this.getTimestamp());\n            });\n        }\n    }\n    _onRender(timestampMs) {\n        this._mapperRegistry.execute();\n        const frames = [...this._frames];\n        this._frames = [];\n        for (let i = 0, len = frames.length; i < len; ++i) {\n            frames[i](timestampMs);\n        }\n        if (this._mapperRegistry.needRunOnRender) {\n            this._mapperRegistry.execute();\n        }\n    }\n    installCoreFunctions(valueSetter) {\n        this._valueSetter = valueSetter;\n    }\n    makeShareable(value) {\n        return value;\n    }\n    makeMutable(value) {\n        return new MutableValue(value, this._valueSetter);\n    }\n    makeRemote(object) {\n        return object;\n    }\n    startMapper(mapper, inputs = [], outputs = []) {\n        const instance = new Mapper(this, mapper, inputs, outputs);\n        const mapperId = this._mapperRegistry.startMapper(instance);\n        this.maybeRequestRender();\n        return mapperId;\n    }\n    stopMapper(mapperId) {\n        this._mapperRegistry.stopMapper(mapperId);\n    }\n    registerEventHandler(_eventHash, _eventHandler) {\n        // noop\n    }\n    unregisterEventHandler(_registrationId) {\n        // noop\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}