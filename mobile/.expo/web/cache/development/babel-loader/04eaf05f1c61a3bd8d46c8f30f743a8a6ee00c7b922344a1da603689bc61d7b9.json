{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport axios from 'axios';\nimport { login } from \"../helper/Auth\";\nimport { DEFAULT_HOST } from \"../host\";\nexport default function Login(_ref) {\n  var navigation = _ref.navigation;\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    email = _useState2[0],\n    setEmail = _useState2[1];\n  var _useState3 = useState(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    password = _useState4[0],\n    setPass = _useState4[1];\n  var onLogin = function onLogin() {\n    var url, data, rs, token0, user0;\n    return _regeneratorRuntime.async(function onLogin$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            url = DEFAULT_HOST + \"/auth/login-patient\";\n            _context.prev = 1;\n            data = {\n              email: email.trim(),\n              password: password\n            };\n            _context.next = 5;\n            return _regeneratorRuntime.awrap(axios.post(url, data));\n          case 5:\n            rs = _context.sent;\n            if (rs.data.success) {\n              setEmail('');\n              setPass('');\n              token0 = rs.data.data.token;\n              user0 = rs.data.data.user;\n              login(token0, user0);\n              if (login) {\n                navigation.navigate('Home');\n              } else {\n                Alert.alert('Thất bại!', 'Đăng nhập không thành công!');\n              }\n            } else {\n              Alert.alert('Thất bại!', rs.data.data.message + '');\n            }\n            _context.next = 13;\n            break;\n          case 9:\n            _context.prev = 9;\n            _context.t0 = _context[\"catch\"](1);\n            Alert.alert('Thất bại!', '' + _context.t0);\n            console.log(_context.t0);\n          case 13:\n            return _context.abrupt(\"return\");\n          case 14:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[1, 9]], Promise);\n  };\n  return React.createElement(View, {\n    style: styles.view\n  }, React.createElement(Image, {\n    style: styles.img,\n    source: require(\"../assets/logo1.png\")\n  }), React.createElement(Text, {\n    style: styles.text\n  }, \"HEALTH RECORD\"), React.createElement(View, {\n    style: styles.form\n  }, React.createElement(Text, {\n    style: styles.title\n  }, \"Email\"), React.createElement(TextInput, {\n    onChangeText: setEmail,\n    style: styles.input,\n    placeholder: \"abc@gmail.com\",\n    value: email\n  }), React.createElement(Text, {\n    style: styles.title\n  }, \"M\\u1EADt kh\\u1EA9u\"), React.createElement(TextInput, {\n    onChangeText: setPass,\n    style: styles.input,\n    placeholder: \"M\\u1EADt kh\\u1EA9u\",\n    autoComplete: \"password\",\n    secureTextEntry: true,\n    value: password\n  }), React.createElement(View, {\n    style: styles.button\n  }, React.createElement(Button, {\n    onPress: onLogin,\n    title: \"\\u0110\\u0103ng nh\\u1EADp\",\n    color: \"#00bfff\"\n  }))));\n}\nvar styles = StyleSheet.create({\n  input: {\n    borderWidth: 2,\n    borderColor: '#00bfff',\n    margin: 10,\n    padding: 5,\n    borderTopRightRadius: 10,\n    borderBottomRightRadius: 10,\n    paddingStart: 10,\n    marginHorizontal: 30\n  },\n  button: {\n    marginHorizontal: 60,\n    marginTop: 10,\n    borderRadius: 80\n  },\n  view: {\n    marginVertical: 20\n  },\n  text: {\n    color: '#00bfff',\n    fontSize: 28,\n    marginHorizontal: 70\n  },\n  textP: {\n    color: '#00bfff',\n    fontSize: 16\n  },\n  textFinal: {\n    color: '#00bfff',\n    fontSize: 16,\n    marginLeft: 100\n  },\n  p: {\n    marginTop: 40,\n    marginHorizontal: 50\n  },\n  img: {\n    width: 80,\n    height: 80,\n    marginBottom: 10,\n    marginTop: 90,\n    marginHorizontal: 130\n  },\n  form: {\n    marginTop: 50\n  },\n  title: {\n    color: '#00bfff',\n    marginHorizontal: 30\n  },\n  log: {\n    color: 'red',\n    marginHorizontal: 50,\n    fontSize: 12,\n    marginBottom: 5\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","View","TextInput","Button","Alert","StyleSheet","Text","Image","axios","login","DEFAULT_HOST","Login","_ref","navigation","_useState","_useState2","_slicedToArray","email","setEmail","_useState3","_useState4","password","setPass","onLogin","url","data","rs","token0","user0","_regeneratorRuntime","async","onLogin$","_context","prev","next","trim","awrap","post","sent","success","token","user","navigate","alert","message","t0","console","log","abrupt","stop","Promise","createElement","style","styles","view","img","source","require","text","form","title","onChangeText","input","placeholder","value","autoComplete","secureTextEntry","button","onPress","color","create","borderWidth","borderColor","margin","padding","borderTopRightRadius","borderBottomRightRadius","paddingStart","marginHorizontal","marginTop","borderRadius","marginVertical","fontSize","textP","textFinal","marginLeft","p","width","height","marginBottom"],"sources":["/home/khaibq/blockchain/mobile/components/Login.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { View, TextInput, Button, Alert, StyleSheet, Text, Image } from 'react-native';\nimport axios from 'axios';\nimport { login } from '../helper/Auth';\nimport { DEFAULT_HOST } from '../host';\nexport default function Login({ navigation }) {\n  const [email, setEmail] = useState('');\n  const [password, setPass] = useState('');\n\n  const onLogin = async () => {\n    const url = `${DEFAULT_HOST}/auth/login-patient`;\n    try {\n      const data = {\n        email: email.trim(),\n        password: password,\n      };\n      const rs = await axios.post(url, data);\n      if (rs.data.success) {\n        setEmail('');\n        setPass('');\n        const token0 = rs.data.data.token;\n        const user0 = rs.data.data.user;\n        login(token0, user0);\n\n        if (login) {\n          navigation.navigate('Home');\n        } else {\n          Alert.alert('Thất bại!', 'Đăng nhập không thành công!');\n        }\n      } else {\n        Alert.alert('Thất bại!', rs.data.data.message + '');\n      }\n    } catch (error) {\n      Alert.alert('Thất bại!', '' + error);\n      console.log(error);\n    }\n    return;\n  };\n\n  return (\n    <View style={styles.view}>\n      <Image style={styles.img} source={require('../assets/logo1.png')} />\n      <Text style={styles.text}>HEALTH RECORD</Text>\n      <View style={styles.form}>\n        <Text style={styles.title}>Email</Text>\n        <TextInput onChangeText={setEmail} style={styles.input} placeholder=\"abc@gmail.com\" value={email}></TextInput>\n\n        <Text style={styles.title}>Mật khẩu</Text>\n        <TextInput\n          onChangeText={setPass}\n          style={styles.input}\n          placeholder=\"Mật khẩu\"\n          autoComplete=\"password\"\n          secureTextEntry\n          value={password}\n        ></TextInput>\n\n        <View style={styles.button}>\n          <Button onPress={onLogin} title=\"Đăng nhập\" color=\"#00bfff\" />\n        </View>\n      </View>\n    </View>\n  );\n}\nconst styles = StyleSheet.create({\n  input: {\n    borderWidth: 2,\n    borderColor: '#00bfff',\n    margin: 10,\n    padding: 5,\n    borderTopRightRadius: 10,\n    borderBottomRightRadius: 10,\n    paddingStart: 10,\n    marginHorizontal: 30,\n  },\n  button: {\n    marginHorizontal: 60,\n    marginTop: 10,\n    borderRadius: 80,\n  },\n  view: {\n    marginVertical: 20,\n  },\n  text: {\n    color: '#00bfff',\n    fontSize: 28,\n    marginHorizontal: 70,\n  },\n  textP: {\n    color: '#00bfff',\n    fontSize: 16,\n  },\n  textFinal: {\n    color: '#00bfff',\n    fontSize: 16,\n    marginLeft: 100,\n  },\n  p: {\n    marginTop: 40,\n    marginHorizontal: 50,\n  },\n  img: {\n    width: 80,\n    height: 80,\n    marginBottom: 10,\n    marginTop: 90,\n    marginHorizontal: 130,\n  },\n  form: {\n    marginTop: 50,\n  },\n  title: {\n    color: '#00bfff',\n    marginHorizontal: 30,\n  },\n  log: {\n    color: 'red',\n    marginHorizontal: 50,\n    fontSize: 12,\n    marginBottom: 5,\n  },\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}