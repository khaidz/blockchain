{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport { Easing } from \"./Easing\";\nimport { isColor, convertToHSVA, toRGBA } from \"./Colors\";\nimport NativeReanimated from \"./NativeReanimated\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nvar IN_STYLE_UPDATER = false;\nexport function initialUpdaterRun(updater) {\n  IN_STYLE_UPDATER = true;\n  var result = updater();\n  IN_STYLE_UPDATER = false;\n  return result;\n}\nexport function transform(value, handler) {\n  'worklet';\n\n  if (value === undefined) {\n    return undefined;\n  }\n  if (typeof value === 'string') {\n    var match = value.match(/([A-Za-z]*)(-?\\d*\\.?\\d*)([A-Za-z%]*)/);\n    var prefix = match[1];\n    var suffix = match[3];\n    var number = match[2];\n    handler.__prefix = prefix;\n    handler.__suffix = suffix;\n    return parseFloat(number);\n  }\n  if (handler.__prefix === undefined) {\n    return value;\n  }\n  return handler.__prefix + value + handler.__suffix;\n}\nexport function transformAnimation(animation) {\n  'worklet';\n\n  if (!animation) {\n    return;\n  }\n  animation.toValue = transform(animation.toValue, animation);\n  animation.current = transform(animation.current, animation);\n  animation.startValue = transform(animation.startValue, animation);\n}\nexport function decorateAnimation(animation) {\n  'worklet';\n\n  if (animation.isHigherOrder) {\n    return;\n  }\n  var baseOnStart = animation.onStart;\n  var baseOnFrame = animation.onFrame;\n  var animationCopy = _extends({}, animation);\n  delete animationCopy.callback;\n  var prefNumberSuffOnStart = function prefNumberSuffOnStart(animation, value, timestamp, previousAnimation) {\n    var val = transform(value, animation);\n    transformAnimation(animation);\n    if (previousAnimation !== animation) transformAnimation(previousAnimation);\n    baseOnStart(animation, val, timestamp, previousAnimation);\n    transformAnimation(animation);\n    if (previousAnimation !== animation) transformAnimation(previousAnimation);\n  };\n  var prefNumberSuffOnFrame = function prefNumberSuffOnFrame(animation, timestamp) {\n    transformAnimation(animation);\n    var res = baseOnFrame(animation, timestamp);\n    transformAnimation(animation);\n    return res;\n  };\n  var tab = ['H', 'S', 'V', 'A'];\n  var colorOnStart = function colorOnStart(animation, value, timestamp, previousAnimation) {\n    var HSVAValue;\n    var HSVACurrent;\n    var HSVAToValue;\n    var res = [];\n    if (isColor(value)) {\n      HSVACurrent = convertToHSVA(animation.current);\n      HSVAValue = convertToHSVA(value);\n      if (animation.toValue) {\n        HSVAToValue = convertToHSVA(animation.toValue);\n      }\n    }\n    tab.forEach(function (i, index) {\n      animation[i] = _extends({}, animationCopy);\n      animation[i].current = HSVACurrent[index];\n      animation[i].toValue = HSVAToValue ? HSVAToValue[index] : undefined;\n      animation[i].onStart(animation[i], HSVAValue[index], timestamp, previousAnimation ? previousAnimation[i] : undefined);\n      res.push(animation[i].current);\n    });\n    animation.current = toRGBA(res);\n  };\n  var colorOnFrame = function colorOnFrame(animation, timestamp) {\n    var HSVACurrent = convertToHSVA(animation.current);\n    var res = [];\n    var finished = true;\n    tab.forEach(function (i, index) {\n      animation[i].current = HSVACurrent[index];\n      finished &= animation[i].onFrame(animation[i], timestamp);\n      res.push(animation[i].current);\n    });\n    animation.current = toRGBA(res);\n    return finished;\n  };\n  animation.onStart = function (animation, value, timestamp, previousAnimation) {\n    if (isColor(value)) {\n      colorOnStart(animation, value, timestamp, previousAnimation);\n      animation.onFrame = colorOnFrame;\n      return;\n    } else if (typeof value === 'string') {\n      prefNumberSuffOnStart(animation, value, timestamp, previousAnimation);\n      animation.onFrame = prefNumberSuffOnFrame;\n      return;\n    }\n    baseOnStart(animation, value, timestamp, previousAnimation);\n  };\n}\nexport function defineAnimation(starting, factory) {\n  'worklet';\n\n  if (IN_STYLE_UPDATER) {\n    return starting;\n  }\n  var create = function create() {\n    'worklet';\n\n    var animation = factory();\n    decorateAnimation(animation);\n    return animation;\n  };\n  if (_WORKLET || !NativeReanimated.native) {\n    return create();\n  }\n  return create;\n}\nexport function cancelAnimation(sharedValue) {\n  'worklet';\n  sharedValue.value = sharedValue.value;\n}\nexport function withTiming(toValue, userConfig, callback) {\n  'worklet';\n\n  return defineAnimation(toValue, function () {\n    'worklet';\n\n    var config = {\n      duration: 300,\n      easing: Easing.inOut(Easing.quad)\n    };\n    if (userConfig) {\n      Object.keys(userConfig).forEach(function (key) {\n        return config[key] = userConfig[key];\n      });\n    }\n    function timing(animation, now) {\n      var toValue = animation.toValue,\n        progress = animation.progress,\n        startTime = animation.startTime,\n        current = animation.current;\n      var runtime = now - startTime;\n      if (runtime >= config.duration) {\n        animation.startTime = 0;\n        animation.current = toValue;\n        return true;\n      }\n      var newProgress = config.easing(runtime / config.duration);\n      var dist = (toValue - current) * (newProgress - progress) / (1 - progress);\n      animation.current += dist;\n      animation.progress = newProgress;\n      return false;\n    }\n    function onStart(animation, value, now, previousAnimation) {\n      if (previousAnimation && previousAnimation.type === 'timing' && previousAnimation.toValue === toValue && previousAnimation.startTime) {\n        animation.startTime = previousAnimation.startTime;\n        animation.progress = previousAnimation.progress;\n      } else {\n        animation.startTime = now;\n        animation.progress = 0;\n      }\n      animation.current = value;\n    }\n    return {\n      type: 'timing',\n      onFrame: timing,\n      onStart: onStart,\n      progress: 0,\n      toValue: toValue,\n      current: toValue,\n      callback: callback\n    };\n  });\n}\nexport function withSpring(toValue, userConfig, callback) {\n  'worklet';\n\n  return defineAnimation(toValue, function () {\n    'worklet';\n    var config = {\n      damping: 10,\n      mass: 1,\n      stiffness: 100,\n      overshootClamping: false,\n      restDisplacementThreshold: 0.01,\n      restSpeedThreshold: 2\n    };\n    if (userConfig) {\n      Object.keys(userConfig).forEach(function (key) {\n        return config[key] = userConfig[key];\n      });\n    }\n    function spring(animation, now) {\n      var toValue = animation.toValue,\n        lastTimestamp = animation.lastTimestamp,\n        current = animation.current,\n        velocity = animation.velocity;\n      var deltaTime = Math.min(now - lastTimestamp, 64);\n      animation.lastTimestamp = now;\n      var c = config.damping;\n      var m = config.mass;\n      var k = config.stiffness;\n      var v0 = -velocity;\n      var x0 = toValue - current;\n      var zeta = c / (2 * Math.sqrt(k * m));\n      var omega0 = Math.sqrt(k / m);\n      var omega1 = omega0 * Math.sqrt(1 - Math.pow(zeta, 2));\n      var t = deltaTime / 1000;\n      var sin1 = Math.sin(omega1 * t);\n      var cos1 = Math.cos(omega1 * t);\n      var underDampedEnvelope = Math.exp(-zeta * omega0 * t);\n      var underDampedFrag1 = underDampedEnvelope * (sin1 * ((v0 + zeta * omega0 * x0) / omega1) + x0 * cos1);\n      var underDampedPosition = toValue - underDampedFrag1;\n      var underDampedVelocity = zeta * omega0 * underDampedFrag1 - underDampedEnvelope * (cos1 * (v0 + zeta * omega0 * x0) - omega1 * x0 * sin1);\n      var criticallyDampedEnvelope = Math.exp(-omega0 * t);\n      var criticallyDampedPosition = toValue - criticallyDampedEnvelope * (x0 + (v0 + omega0 * x0) * t);\n      var criticallyDampedVelocity = criticallyDampedEnvelope * (v0 * (t * omega0 - 1) + t * x0 * omega0 * omega0);\n      var isOvershooting = function isOvershooting() {\n        if (config.overshootClamping && config.stiffness !== 0) {\n          return current < toValue ? animation.current > toValue : animation.current < toValue;\n        } else {\n          return false;\n        }\n      };\n      var isVelocity = Math.abs(velocity) < config.restSpeedThreshold;\n      var isDisplacement = config.stiffness === 0 || Math.abs(toValue - current) < config.restDisplacementThreshold;\n      if (zeta < 1) {\n        animation.current = underDampedPosition;\n        animation.velocity = underDampedVelocity;\n      } else {\n        animation.current = criticallyDampedPosition;\n        animation.velocity = criticallyDampedVelocity;\n      }\n      if (isOvershooting() || isVelocity && isDisplacement) {\n        if (config.stiffness !== 0) {\n          animation.velocity = 0;\n          animation.current = toValue;\n        }\n        return true;\n      }\n    }\n    function onStart(animation, value, now, previousAnimation) {\n      animation.current = value;\n      if (previousAnimation) {\n        animation.velocity = previousAnimation.velocity || animation.velocity || 0;\n        animation.lastTimestamp = previousAnimation.lastTimestamp || now;\n      } else {\n        animation.lastTimestamp = now;\n      }\n    }\n    return {\n      onFrame: spring,\n      onStart: onStart,\n      toValue: toValue,\n      velocity: config.velocity || 0,\n      current: toValue,\n      callback: callback\n    };\n  });\n}\nexport function withDecay(userConfig, callback) {\n  'worklet';\n\n  return defineAnimation(0, function () {\n    'worklet';\n\n    var config = {\n      deceleration: 0.998,\n      velocityFactor: Platform.OS !== 'web' ? 1 : 1000\n    };\n    if (userConfig) {\n      Object.keys(userConfig).forEach(function (key) {\n        return config[key] = userConfig[key];\n      });\n    }\n    var VELOCITY_EPS = Platform.OS !== 'web' ? 1 : 1 / 20;\n    var SLOPE_FACTOR = 0.1;\n    function decay(animation, now) {\n      var lastTimestamp = animation.lastTimestamp,\n        startTimestamp = animation.startTimestamp,\n        initialVelocity = animation.initialVelocity,\n        current = animation.current,\n        velocity = animation.velocity;\n      var deltaTime = Math.min(now - lastTimestamp, 64);\n      var v = velocity * Math.exp(-(1 - config.deceleration) * (now - startTimestamp) * SLOPE_FACTOR);\n      animation.current = current + v * config.velocityFactor * deltaTime / 1000;\n      animation.velocity = v;\n      animation.lastTimestamp = now;\n      if (config.clamp) {\n        if (initialVelocity < 0 && animation.current <= config.clamp[0]) {\n          animation.current = config.clamp[0];\n          return true;\n        } else if (initialVelocity > 0 && animation.current >= config.clamp[1]) {\n          animation.current = config.clamp[1];\n          return true;\n        }\n      }\n      if (Math.abs(v) < VELOCITY_EPS) {\n        return true;\n      }\n    }\n    function validateConfig() {\n      if (config.clamp) {\n        if (Array.isArray(config.clamp)) {\n          if (config.clamp.length !== 2) {\n            console.error(\"clamp array must contain 2 items but is given \" + config.clamp.length);\n          }\n        } else {\n          console.error(\"config.clamp must be an array but is \" + typeof config.clamp);\n        }\n      }\n      if (config.velocityFactor <= 0) {\n        console.error(\"config.velocityFactor must be greather then 0 but is \" + config.velocityFactor);\n      }\n    }\n    function onStart(animation, value, now) {\n      animation.current = value;\n      animation.lastTimestamp = now;\n      animation.startTimestamp = now;\n      animation.initialVelocity = config.velocity;\n      validateConfig();\n    }\n    return {\n      onFrame: decay,\n      onStart: onStart,\n      velocity: config.velocity || 0,\n      callback: callback\n    };\n  });\n}\nexport function withDelay(delayMs, _nextAnimation) {\n  'worklet';\n\n  return defineAnimation(_nextAnimation, function () {\n    'worklet';\n\n    var nextAnimation = typeof _nextAnimation === 'function' ? _nextAnimation() : _nextAnimation;\n    function delay(animation, now) {\n      var startTime = animation.startTime,\n        started = animation.started,\n        previousAnimation = animation.previousAnimation;\n      if (now - startTime > delayMs) {\n        if (!started) {\n          nextAnimation.onStart(nextAnimation, animation.current, now, previousAnimation);\n          animation.previousAnimation = null;\n          animation.started = true;\n        }\n        var finished = nextAnimation.onFrame(nextAnimation, now);\n        animation.current = nextAnimation.current;\n        return finished;\n      } else if (previousAnimation) {\n        var _finished = previousAnimation.onFrame(previousAnimation, now);\n        animation.current = previousAnimation.current;\n        if (_finished) {\n          animation.previousAnimation = null;\n        }\n      }\n      return false;\n    }\n    function onStart(animation, value, now, previousAnimation) {\n      animation.startTime = now;\n      animation.started = false;\n      animation.current = value;\n      animation.previousAnimation = previousAnimation;\n    }\n    var callback = function callback(finished) {\n      if (nextAnimation.callback) {\n        nextAnimation.callback(finished);\n      }\n    };\n    return {\n      isHigherOrder: true,\n      onFrame: delay,\n      onStart: onStart,\n      current: nextAnimation.current,\n      callback: callback\n    };\n  });\n}\nexport function withSequence() {\n  'worklet';\n\n  for (var _len = arguments.length, _animations = new Array(_len), _key = 0; _key < _len; _key++) {\n    _animations[_key] = arguments[_key];\n  }\n  return defineAnimation(_animations[0], function () {\n    'worklet';\n\n    var animations = _animations.map(function (a) {\n      var result = typeof a === 'function' ? a() : a;\n      result.finished = false;\n      return result;\n    });\n    var firstAnimation = animations[0];\n    var callback = function callback(finished) {\n      if (finished) {\n        return;\n      }\n      animations.forEach(function (animation) {\n        if (typeof animation.callback === 'function' && !animation.finished) {\n          animation.callback(finished);\n        }\n      });\n    };\n    function sequence(animation, now) {\n      var currentAnim = animations[animation.animationIndex];\n      var finished = currentAnim.onFrame(currentAnim, now);\n      animation.current = currentAnim.current;\n      if (finished) {\n        if (currentAnim.callback) {\n          currentAnim.callback(true);\n        }\n        currentAnim.finished = true;\n        animation.animationIndex += 1;\n        if (animation.animationIndex < animations.length) {\n          var nextAnim = animations[animation.animationIndex];\n          nextAnim.onStart(nextAnim, currentAnim.current, now, currentAnim);\n          return false;\n        }\n        return true;\n      }\n      return false;\n    }\n    function onStart(animation, value, now, previousAnimation) {\n      if (animations.length === 1) {\n        throw Error('withSequence() animation require more than one animation as argument');\n      }\n      animation.animationIndex = 0;\n      if (previousAnimation === undefined) {\n        previousAnimation = animations[animations.length - 1];\n      }\n      firstAnimation.onStart(firstAnimation, value, now, previousAnimation);\n    }\n    return {\n      isHigherOrder: true,\n      onFrame: sequence,\n      onStart: onStart,\n      animationIndex: 0,\n      current: firstAnimation.current,\n      callback: callback\n    };\n  });\n}\nexport function withRepeat(_nextAnimation) {\n  'worklet';\n\n  var numberOfReps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;\n  var reverse = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  var callback = arguments.length > 3 ? arguments[3] : undefined;\n  return defineAnimation(_nextAnimation, function () {\n    'worklet';\n\n    var nextAnimation = typeof _nextAnimation === 'function' ? _nextAnimation() : _nextAnimation;\n    function repeat(animation, now) {\n      var finished = nextAnimation.onFrame(nextAnimation, now);\n      animation.current = nextAnimation.current;\n      if (finished) {\n        animation.reps += 1;\n        if (nextAnimation.callback) {\n          nextAnimation.callback(true, animation.current);\n        }\n        if (numberOfReps > 0 && animation.reps >= numberOfReps) {\n          return true;\n        }\n        var startValue = reverse ? nextAnimation.current : animation.startValue;\n        if (reverse) {\n          nextAnimation.toValue = animation.startValue;\n          animation.startValue = startValue;\n        }\n        nextAnimation.onStart(nextAnimation, startValue, now, nextAnimation.previousAnimation);\n        return false;\n      }\n      return false;\n    }\n    var repCallback = function repCallback(finished) {\n      if (callback) {\n        callback(finished);\n      }\n      if (!finished && nextAnimation.callback) {\n        nextAnimation.callback(false);\n      }\n    };\n    function onStart(animation, value, now, previousAnimation) {\n      animation.startValue = value;\n      animation.reps = 0;\n      nextAnimation.onStart(nextAnimation, value, now, previousAnimation);\n    }\n    return {\n      isHigherOrder: true,\n      onFrame: repeat,\n      onStart: onStart,\n      reps: 0,\n      current: nextAnimation.current,\n      callback: repCallback\n    };\n  });\n}\nexport function delay(delayMs, _nextAnimation) {\n  'worklet';\n\n  console.warn('Method `delay` is deprecated. Please use `withDelay` instead');\n  return withDelay(delayMs, _nextAnimation);\n}\nexport function repeat(_nextAnimation) {\n  'worklet';\n\n  var numberOfReps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;\n  var reverse = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  var callback = arguments.length > 3 ? arguments[3] : undefined;\n  console.warn('Method `repeat` is deprecated. Please use `withRepeat` instead');\n  return withRepeat(_nextAnimation, numberOfReps, reverse, callback);\n}\nexport function loop(nextAnimation) {\n  'worklet';\n\n  var numberOfLoops = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n  console.warn('Method `loop` is deprecated. Please use `withRepeat` instead');\n  return repeat(nextAnimation, Math.round(numberOfLoops * 2), true);\n}\nexport function sequence() {\n  'worklet';\n\n  console.warn('Method `sequence` is deprecated. Please use `withSequence` instead');\n  return withSequence.apply(void 0, arguments);\n}","map":{"version":3,"names":["Easing","isColor","convertToHSVA","toRGBA","NativeReanimated","Platform","IN_STYLE_UPDATER","initialUpdaterRun","updater","result","transform","value","handler","undefined","match","prefix","suffix","number","__prefix","__suffix","parseFloat","transformAnimation","animation","toValue","current","startValue","decorateAnimation","isHigherOrder","baseOnStart","onStart","baseOnFrame","onFrame","animationCopy","_extends","callback","prefNumberSuffOnStart","timestamp","previousAnimation","val","prefNumberSuffOnFrame","res","tab","colorOnStart","HSVAValue","HSVACurrent","HSVAToValue","forEach","i","index","push","colorOnFrame","finished","defineAnimation","starting","factory","create","_WORKLET","native","cancelAnimation","sharedValue","withTiming","userConfig","config","duration","easing","inOut","quad","Object","keys","key","timing","now","progress","startTime","runtime","newProgress","dist","type","withSpring","damping","mass","stiffness","overshootClamping","restDisplacementThreshold","restSpeedThreshold","spring","lastTimestamp","velocity","deltaTime","Math","min","c","m","k","v0","x0","zeta","sqrt","omega0","omega1","pow","t","sin1","sin","cos1","cos","underDampedEnvelope","exp","underDampedFrag1","underDampedPosition","underDampedVelocity","criticallyDampedEnvelope","criticallyDampedPosition","criticallyDampedVelocity","isOvershooting","isVelocity","abs","isDisplacement","withDecay","deceleration","velocityFactor","OS","VELOCITY_EPS","SLOPE_FACTOR","decay","startTimestamp","initialVelocity","v","clamp","validateConfig","Array","isArray","length","console","error","withDelay","delayMs","_nextAnimation","nextAnimation","delay","started","withSequence","_len","arguments","_animations","_key","animations","map","a","firstAnimation","sequence","currentAnim","animationIndex","nextAnim","Error","withRepeat","numberOfReps","reverse","repeat","reps","repCallback","warn","loop","numberOfLoops","round","apply"],"sources":["/home/khaibq/blockchain/mobile/node_modules/react-native-reanimated/lib/reanimated2/animations.js"],"sourcesContent":["/* global _WORKLET */\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-nocheck\nimport { Easing } from './Easing';\nimport { isColor, convertToHSVA, toRGBA } from './Colors';\nimport NativeReanimated from './NativeReanimated';\nimport { Platform } from 'react-native';\nlet IN_STYLE_UPDATER = false;\nexport function initialUpdaterRun(updater) {\n    IN_STYLE_UPDATER = true;\n    const result = updater();\n    IN_STYLE_UPDATER = false;\n    return result;\n}\nexport function transform(value, handler) {\n    'worklet';\n    if (value === undefined) {\n        return undefined;\n    }\n    if (typeof value === 'string') {\n        // toInt\n        // TODO handle color\n        const match = value.match(/([A-Za-z]*)(-?\\d*\\.?\\d*)([A-Za-z%]*)/);\n        const prefix = match[1];\n        const suffix = match[3];\n        const number = match[2];\n        handler.__prefix = prefix;\n        handler.__suffix = suffix;\n        return parseFloat(number);\n    }\n    // toString if __prefix is available and number otherwise\n    if (handler.__prefix === undefined) {\n        return value;\n    }\n    return handler.__prefix + value + handler.__suffix;\n}\nexport function transformAnimation(animation) {\n    'worklet';\n    if (!animation) {\n        return;\n    }\n    animation.toValue = transform(animation.toValue, animation);\n    animation.current = transform(animation.current, animation);\n    animation.startValue = transform(animation.startValue, animation);\n}\nexport function decorateAnimation(animation) {\n    'worklet';\n    if (animation.isHigherOrder) {\n        return;\n    }\n    const baseOnStart = animation.onStart;\n    const baseOnFrame = animation.onFrame;\n    const animationCopy = Object.assign({}, animation);\n    delete animationCopy.callback;\n    const prefNumberSuffOnStart = (animation, value, timestamp, previousAnimation) => {\n        const val = transform(value, animation);\n        transformAnimation(animation);\n        if (previousAnimation !== animation)\n            transformAnimation(previousAnimation);\n        baseOnStart(animation, val, timestamp, previousAnimation);\n        transformAnimation(animation);\n        if (previousAnimation !== animation)\n            transformAnimation(previousAnimation);\n    };\n    const prefNumberSuffOnFrame = (animation, timestamp) => {\n        transformAnimation(animation);\n        const res = baseOnFrame(animation, timestamp);\n        transformAnimation(animation);\n        return res;\n    };\n    const tab = ['H', 'S', 'V', 'A'];\n    const colorOnStart = (animation, value, timestamp, previousAnimation) => {\n        let HSVAValue;\n        let HSVACurrent;\n        let HSVAToValue;\n        const res = [];\n        if (isColor(value)) {\n            HSVACurrent = convertToHSVA(animation.current);\n            HSVAValue = convertToHSVA(value);\n            if (animation.toValue) {\n                HSVAToValue = convertToHSVA(animation.toValue);\n            }\n        }\n        tab.forEach((i, index) => {\n            animation[i] = Object.assign({}, animationCopy);\n            animation[i].current = HSVACurrent[index];\n            animation[i].toValue = HSVAToValue ? HSVAToValue[index] : undefined;\n            animation[i].onStart(animation[i], HSVAValue[index], timestamp, previousAnimation ? previousAnimation[i] : undefined);\n            res.push(animation[i].current);\n        });\n        animation.current = toRGBA(res);\n    };\n    const colorOnFrame = (animation, timestamp) => {\n        const HSVACurrent = convertToHSVA(animation.current);\n        const res = [];\n        let finished = true;\n        tab.forEach((i, index) => {\n            animation[i].current = HSVACurrent[index];\n            finished &= animation[i].onFrame(animation[i], timestamp);\n            res.push(animation[i].current);\n        });\n        animation.current = toRGBA(res);\n        return finished;\n    };\n    animation.onStart = (animation, value, timestamp, previousAnimation) => {\n        if (isColor(value)) {\n            colorOnStart(animation, value, timestamp, previousAnimation);\n            animation.onFrame = colorOnFrame;\n            return;\n        }\n        else if (typeof value === 'string') {\n            prefNumberSuffOnStart(animation, value, timestamp, previousAnimation);\n            animation.onFrame = prefNumberSuffOnFrame;\n            return;\n        }\n        baseOnStart(animation, value, timestamp, previousAnimation);\n    };\n}\nexport function defineAnimation(starting, factory) {\n    'worklet';\n    if (IN_STYLE_UPDATER) {\n        return starting;\n    }\n    const create = () => {\n        'worklet';\n        const animation = factory();\n        decorateAnimation(animation);\n        return animation;\n    };\n    if (_WORKLET || !NativeReanimated.native) {\n        return create();\n    }\n    return create;\n}\nexport function cancelAnimation(sharedValue) {\n    'worklet';\n    // setting the current value cancels the animation if one is currently running\n    sharedValue.value = sharedValue.value; // eslint-disable-line no-self-assign\n}\nexport function withTiming(toValue, userConfig, callback) {\n    'worklet';\n    return defineAnimation(toValue, () => {\n        'worklet';\n        const config = {\n            duration: 300,\n            easing: Easing.inOut(Easing.quad),\n        };\n        if (userConfig) {\n            Object.keys(userConfig).forEach((key) => (config[key] = userConfig[key]));\n        }\n        function timing(animation, now) {\n            const { toValue, progress, startTime, current } = animation;\n            const runtime = now - startTime;\n            if (runtime >= config.duration) {\n                // reset startTime to avoid reusing finished animation config in `start` method\n                animation.startTime = 0;\n                animation.current = toValue;\n                return true;\n            }\n            const newProgress = config.easing(runtime / config.duration);\n            const dist = ((toValue - current) * (newProgress - progress)) / (1 - progress);\n            animation.current += dist;\n            animation.progress = newProgress;\n            return false;\n        }\n        function onStart(animation, value, now, previousAnimation) {\n            if (previousAnimation &&\n                previousAnimation.type === 'timing' &&\n                previousAnimation.toValue === toValue &&\n                previousAnimation.startTime) {\n                // to maintain continuity of timing animations we check if we are starting\n                // new timing over the old one with the same parameters. If so, we want\n                // to copy animation timeline properties\n                animation.startTime = previousAnimation.startTime;\n                animation.progress = previousAnimation.progress;\n            }\n            else {\n                animation.startTime = now;\n                animation.progress = 0;\n            }\n            animation.current = value;\n        }\n        return {\n            type: 'timing',\n            onFrame: timing,\n            onStart,\n            progress: 0,\n            toValue,\n            current: toValue,\n            callback,\n        };\n    });\n}\nexport function withSpring(toValue, userConfig, callback) {\n    'worklet';\n    return defineAnimation(toValue, () => {\n        'worklet';\n        // TODO: figure out why we can't use spread or Object.assign here\n        // when user config is \"frozen object\" we can't enumerate it (perhaps\n        // something is wrong with the object prototype).\n        const config = {\n            damping: 10,\n            mass: 1,\n            stiffness: 100,\n            overshootClamping: false,\n            restDisplacementThreshold: 0.01,\n            restSpeedThreshold: 2,\n        };\n        if (userConfig) {\n            Object.keys(userConfig).forEach((key) => (config[key] = userConfig[key]));\n        }\n        function spring(animation, now) {\n            const { toValue, lastTimestamp, current, velocity } = animation;\n            const deltaTime = Math.min(now - lastTimestamp, 64);\n            animation.lastTimestamp = now;\n            const c = config.damping;\n            const m = config.mass;\n            const k = config.stiffness;\n            const v0 = -velocity;\n            const x0 = toValue - current;\n            const zeta = c / (2 * Math.sqrt(k * m)); // damping ratio\n            const omega0 = Math.sqrt(k / m); // undamped angular frequency of the oscillator (rad/ms)\n            const omega1 = omega0 * Math.sqrt(1 - Math.pow(zeta, 2)); // exponential decay\n            const t = deltaTime / 1000;\n            const sin1 = Math.sin(omega1 * t);\n            const cos1 = Math.cos(omega1 * t);\n            // under damped\n            const underDampedEnvelope = Math.exp(-zeta * omega0 * t);\n            const underDampedFrag1 = underDampedEnvelope *\n                (sin1 * ((v0 + zeta * omega0 * x0) / omega1) + x0 * cos1);\n            const underDampedPosition = toValue - underDampedFrag1;\n            // This looks crazy -- it's actually just the derivative of the oscillation function\n            const underDampedVelocity = zeta * omega0 * underDampedFrag1 -\n                underDampedEnvelope *\n                    (cos1 * (v0 + zeta * omega0 * x0) - omega1 * x0 * sin1);\n            // critically damped\n            const criticallyDampedEnvelope = Math.exp(-omega0 * t);\n            const criticallyDampedPosition = toValue - criticallyDampedEnvelope * (x0 + (v0 + omega0 * x0) * t);\n            const criticallyDampedVelocity = criticallyDampedEnvelope *\n                (v0 * (t * omega0 - 1) + t * x0 * omega0 * omega0);\n            const isOvershooting = () => {\n                if (config.overshootClamping && config.stiffness !== 0) {\n                    return current < toValue\n                        ? animation.current > toValue\n                        : animation.current < toValue;\n                }\n                else {\n                    return false;\n                }\n            };\n            const isVelocity = Math.abs(velocity) < config.restSpeedThreshold;\n            const isDisplacement = config.stiffness === 0 ||\n                Math.abs(toValue - current) < config.restDisplacementThreshold;\n            if (zeta < 1) {\n                animation.current = underDampedPosition;\n                animation.velocity = underDampedVelocity;\n            }\n            else {\n                animation.current = criticallyDampedPosition;\n                animation.velocity = criticallyDampedVelocity;\n            }\n            if (isOvershooting() || (isVelocity && isDisplacement)) {\n                if (config.stiffness !== 0) {\n                    animation.velocity = 0;\n                    animation.current = toValue;\n                }\n                return true;\n            }\n        }\n        function onStart(animation, value, now, previousAnimation) {\n            animation.current = value;\n            if (previousAnimation) {\n                animation.velocity =\n                    previousAnimation.velocity || animation.velocity || 0;\n                animation.lastTimestamp = previousAnimation.lastTimestamp || now;\n            }\n            else {\n                animation.lastTimestamp = now;\n            }\n        }\n        return {\n            onFrame: spring,\n            onStart,\n            toValue,\n            velocity: config.velocity || 0,\n            current: toValue,\n            callback,\n        };\n    });\n}\nexport function withDecay(userConfig, callback) {\n    'worklet';\n    return defineAnimation(0, () => {\n        'worklet';\n        const config = {\n            deceleration: 0.998,\n            velocityFactor: Platform.OS !== 'web' ? 1 : 1000,\n        };\n        if (userConfig) {\n            Object.keys(userConfig).forEach((key) => (config[key] = userConfig[key]));\n        }\n        const VELOCITY_EPS = Platform.OS !== 'web' ? 1 : 1 / 20;\n        const SLOPE_FACTOR = 0.1;\n        function decay(animation, now) {\n            const { lastTimestamp, startTimestamp, initialVelocity, current, velocity, } = animation;\n            const deltaTime = Math.min(now - lastTimestamp, 64);\n            const v = velocity *\n                Math.exp(-(1 - config.deceleration) * (now - startTimestamp) * SLOPE_FACTOR);\n            animation.current =\n                current + (v * config.velocityFactor * deltaTime) / 1000; // /1000 because time is in ms not in s\n            animation.velocity = v;\n            animation.lastTimestamp = now;\n            if (config.clamp) {\n                if (initialVelocity < 0 && animation.current <= config.clamp[0]) {\n                    animation.current = config.clamp[0];\n                    return true;\n                }\n                else if (initialVelocity > 0 &&\n                    animation.current >= config.clamp[1]) {\n                    animation.current = config.clamp[1];\n                    return true;\n                }\n            }\n            if (Math.abs(v) < VELOCITY_EPS) {\n                return true;\n            }\n        }\n        function validateConfig() {\n            if (config.clamp) {\n                if (Array.isArray(config.clamp)) {\n                    if (config.clamp.length !== 2) {\n                        console.error(`clamp array must contain 2 items but is given ${config.clamp.length}`);\n                    }\n                }\n                else {\n                    console.error(`config.clamp must be an array but is ${typeof config.clamp}`);\n                }\n            }\n            if (config.velocityFactor <= 0) {\n                console.error(`config.velocityFactor must be greather then 0 but is ${config.velocityFactor}`);\n            }\n        }\n        function onStart(animation, value, now) {\n            animation.current = value;\n            animation.lastTimestamp = now;\n            animation.startTimestamp = now;\n            animation.initialVelocity = config.velocity;\n            validateConfig();\n        }\n        return {\n            onFrame: decay,\n            onStart,\n            velocity: config.velocity || 0,\n            callback,\n        };\n    });\n}\nexport function withDelay(delayMs, _nextAnimation) {\n    'worklet';\n    return defineAnimation(_nextAnimation, () => {\n        'worklet';\n        const nextAnimation = typeof _nextAnimation === 'function' ? _nextAnimation() : _nextAnimation;\n        function delay(animation, now) {\n            const { startTime, started, previousAnimation } = animation;\n            if (now - startTime > delayMs) {\n                if (!started) {\n                    nextAnimation.onStart(nextAnimation, animation.current, now, previousAnimation);\n                    animation.previousAnimation = null;\n                    animation.started = true;\n                }\n                const finished = nextAnimation.onFrame(nextAnimation, now);\n                animation.current = nextAnimation.current;\n                return finished;\n            }\n            else if (previousAnimation) {\n                const finished = previousAnimation.onFrame(previousAnimation, now);\n                animation.current = previousAnimation.current;\n                if (finished) {\n                    animation.previousAnimation = null;\n                }\n            }\n            return false;\n        }\n        function onStart(animation, value, now, previousAnimation) {\n            animation.startTime = now;\n            animation.started = false;\n            animation.current = value;\n            animation.previousAnimation = previousAnimation;\n        }\n        const callback = (finished) => {\n            if (nextAnimation.callback) {\n                nextAnimation.callback(finished);\n            }\n        };\n        return {\n            isHigherOrder: true,\n            onFrame: delay,\n            onStart,\n            current: nextAnimation.current,\n            callback,\n        };\n    });\n}\nexport function withSequence(..._animations) {\n    'worklet';\n    return defineAnimation(_animations[0], () => {\n        'worklet';\n        const animations = _animations.map((a) => {\n            const result = typeof a === 'function' ? a() : a;\n            result.finished = false;\n            return result;\n        });\n        const firstAnimation = animations[0];\n        const callback = (finished) => {\n            if (finished) {\n                // we want to call the callback after every single animation\n                // not after all of them\n                return;\n            }\n            // this is going to be called only if sequence has been cancelled\n            animations.forEach((animation) => {\n                if (typeof animation.callback === 'function' && !animation.finished) {\n                    animation.callback(finished);\n                }\n            });\n        };\n        function sequence(animation, now) {\n            const currentAnim = animations[animation.animationIndex];\n            const finished = currentAnim.onFrame(currentAnim, now);\n            animation.current = currentAnim.current;\n            if (finished) {\n                // we want to call the callback after every single animation\n                if (currentAnim.callback) {\n                    currentAnim.callback(true /* finished */);\n                }\n                currentAnim.finished = true;\n                animation.animationIndex += 1;\n                if (animation.animationIndex < animations.length) {\n                    const nextAnim = animations[animation.animationIndex];\n                    nextAnim.onStart(nextAnim, currentAnim.current, now, currentAnim);\n                    return false;\n                }\n                return true;\n            }\n            return false;\n        }\n        function onStart(animation, value, now, previousAnimation) {\n            if (animations.length === 1) {\n                throw Error('withSequence() animation require more than one animation as argument');\n            }\n            animation.animationIndex = 0;\n            if (previousAnimation === undefined) {\n                previousAnimation = animations[animations.length - 1];\n            }\n            firstAnimation.onStart(firstAnimation, value, now, previousAnimation);\n        }\n        return {\n            isHigherOrder: true,\n            onFrame: sequence,\n            onStart,\n            animationIndex: 0,\n            current: firstAnimation.current,\n            callback,\n        };\n    });\n}\nexport function withRepeat(_nextAnimation, numberOfReps = 2, reverse = false, callback) {\n    'worklet';\n    return defineAnimation(_nextAnimation, () => {\n        'worklet';\n        const nextAnimation = typeof _nextAnimation === 'function' ? _nextAnimation() : _nextAnimation;\n        function repeat(animation, now) {\n            const finished = nextAnimation.onFrame(nextAnimation, now);\n            animation.current = nextAnimation.current;\n            if (finished) {\n                animation.reps += 1;\n                // call inner animation's callback on every repetition\n                // as the second argument the animation's current value is passed\n                if (nextAnimation.callback) {\n                    nextAnimation.callback(true /* finished */, animation.current);\n                }\n                if (numberOfReps > 0 && animation.reps >= numberOfReps) {\n                    return true;\n                }\n                const startValue = reverse\n                    ? nextAnimation.current\n                    : animation.startValue;\n                if (reverse) {\n                    nextAnimation.toValue = animation.startValue;\n                    animation.startValue = startValue;\n                }\n                nextAnimation.onStart(nextAnimation, startValue, now, nextAnimation.previousAnimation);\n                return false;\n            }\n            return false;\n        }\n        const repCallback = (finished) => {\n            if (callback) {\n                callback(finished);\n            }\n            // when cancelled call inner animation's callback\n            if (!finished && nextAnimation.callback) {\n                nextAnimation.callback(false /* finished */);\n            }\n        };\n        function onStart(animation, value, now, previousAnimation) {\n            animation.startValue = value;\n            animation.reps = 0;\n            nextAnimation.onStart(nextAnimation, value, now, previousAnimation);\n        }\n        return {\n            isHigherOrder: true,\n            onFrame: repeat,\n            onStart,\n            reps: 0,\n            current: nextAnimation.current,\n            callback: repCallback,\n        };\n    });\n}\n/* Deprecated section, kept for backward compatibility. Will be removed soon */\nexport function delay(delayMs, _nextAnimation) {\n    'worklet';\n    console.warn('Method `delay` is deprecated. Please use `withDelay` instead');\n    return withDelay(delayMs, _nextAnimation);\n}\nexport function repeat(_nextAnimation, numberOfReps = 2, reverse = false, callback) {\n    'worklet';\n    console.warn('Method `repeat` is deprecated. Please use `withRepeat` instead');\n    return withRepeat(_nextAnimation, numberOfReps, reverse, callback);\n}\nexport function loop(nextAnimation, numberOfLoops = 1) {\n    'worklet';\n    console.warn('Method `loop` is deprecated. Please use `withRepeat` instead');\n    return repeat(nextAnimation, Math.round(numberOfLoops * 2), true);\n}\nexport function sequence(..._animations) {\n    'worklet';\n    console.warn('Method `sequence` is deprecated. Please use `withSequence` instead');\n    return withSequence(..._animations);\n}\n/* Deprecated section end */\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}